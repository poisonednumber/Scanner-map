#################################################################
##                       DISCORD BOT SETTINGS                  ##
#################################################################

# --- Required ---
DISCORD_TOKEN=your-discord-bot-token-here
CLIENT_ID=your-discord-client-id

# --- Audio Storage Mode ---
# Options: local (stores in /audio) | s3 (Amazon S3 bucket)
STORAGE_MODE=local

# --- S3 Settings (only used if STORAGE_MODE=s3) ---
S3_ENDPOINT=https://s3.example.com/
S3_BUCKET_NAME=scanner-map-bucket
S3_ACCESS_KEY_ID=your-s3-key-id
S3_SECRET_ACCESS_KEY=your-s3-secret-key


#################################################################
##                 SERVER & NETWORK SETTINGS                   ##
#################################################################

# Port for SDRTrunk/TrunkRecorder uploads
BOT_PORT=3306

# Port for web interface/API server
WEBSERVER_PORT=8080

# Public domain or IP for generating playback/share links
PUBLIC_DOMAIN=scannermap.net

# Timezone for logs & timestamps (use IANA format, e.g. "US/Eastern" or "America/New_York")
TIMEZONE=US/Eastern


#################################################################
##             AUTHENTICATION & API KEY SETTINGS               ##
#################################################################

# API keys for inbound SDRTrunk uploads
API_KEY_FILE=data/apikeys.json

# Enable password protection on the web interface
ENABLE_AUTH=false
WEBSERVER_PASSWORD=changeme


#################################################################
##              GEOCODING & LOCATION SETTINGS                  ##
#################################################################

# --- Geocoding Providers (REQUIRED: Set at least one) ---
# These APIs are used for address autocomplete in the web interface and geocoding validation
# You must provide at least one API key for the system to work properly

# Google Maps API Key
# - Get your key: https://console.cloud.google.com/apis/credentials
# - Enable: Maps JavaScript API, Places API, Geocoding API
GOOGLE_MAPS_API_KEY=

# LocationIQ API Key
# - Get your key: https://locationiq.com/register
LOCATIONIQ_API_KEY=

# Default hints to help geocoder resolve incomplete addresses
GEOCODING_CITY="Silver Spring"
GEOCODING_STATE=MD
GEOCODING_COUNTRY=US

# Restrict matches to specific counties / cities
GEOCODING_TARGET_COUNTIES="Montgomery County"
TARGET_CITIES_LIST=Ashton-Sandy Spring,Aspen Hill,Bethesda,...etc


#################################################################
##                 TRANSCRIPTION SETTINGS                      ##
#################################################################

# Provider: local | remote | openai | icad
TRANSCRIPTION_MODE=local

# --- Local (if TRANSCRIPTION_MODE=local) ---
TRANSCRIPTION_DEVICE=cuda   # cuda | cpu

# --- Remote Faster-Whisper (if TRANSCRIPTION_MODE=remote) ---
FASTER_WHISPER_SERVER_URL=http://127.0.0.1:9912
WHISPER_MODEL=large-v3-turbo

# --- ICAD (if TRANSCRIPTION_MODE=icad) ---
ICAD_URL=http://127.0.0.1:9912
ICAD_API_KEY=your-icad-api-key
ICAD_PROFILE=large|test

# --- OpenAI Transcription (if TRANSCRIPTION_MODE=openai) ---
OPENAI_API_KEY=your-openai-api-key
OPENAI_TRANSCRIPTION_MODEL=whisper-1

# The sampling temperature, between 0 and 1. 
# Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. 
# If set to 0, the model will use log probability to automatically increase the temperature until certain thresholds are hit.
OPENAI_TRANSCRIPTION_TEMPERATURE=0

# Custom prompt to improve scanner audio transcription quality
OPENAI_TRANSCRIPTION_PROMPT="Scanner audio: police, fire, EMS radio communications. Transcribe addresses, unit numbers, and emergency details accurately leave black or grabbled audio blank."

#################################################################
##            AI ADDRESS EXTRACTION & SUMMARIES                ##
#################################################################

# AI Provider: ollama | openai
AI_PROVIDER=openai

# --- Ollama (local LLM) ---
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b

# --- OpenAI (cloud LLM) ---
# Uses same OPENAI_API_KEY above
OPENAI_MODEL=gpt-4o-mini

# --- Summaries ---
SUMMARY_LOOKBACK_HOURS=1
ASK_AI_LOOKBACK_HOURS=8


#################################################################
##                 TALK GROUP MAPPINGS                         ##
#################################################################

ENABLE_MAPPED_TALK_GROUPS=true
MAPPED_TALK_GROUPS=4005,4000,6000,6005,6010

# Examples
TALK_GROUP_6010="Silver Spring / Montgomery County MD" 
TALK_GROUP_4005="Silver Spring / Montgomery County MD"  
TALK_GROUP_6000="Any town in Montgomery County MD" 


#################################################################
##              TWO-TONE DETECTION SETTINGS                    ##
#################################################################

ENABLE_TWO_TONE_MODE=false
TWO_TONE_TALK_GROUPS=4005,4000
TWO_TONE_QUEUE_SIZE=1

TONE_DETECTION_TYPE=auto

# --- Two-tone params ---
TWO_TONE_MIN_TONE_LENGTH=0.7
TWO_TONE_MAX_TONE_LENGTH=3.0
TWO_TONE_BW_HZ=50
TWO_TONE_MIN_PAIR_SEPARATION_HZ=100

# --- Pulsed tone params ---
PULSED_MIN_CYCLES=3
PULSED_MIN_ON_MS=50
PULSED_MAX_ON_MS=500
PULSED_MIN_OFF_MS=25
PULSED_MAX_OFF_MS=800
PULSED_BANDWIDTH_HZ=50

# --- Long tone params ---
LONG_TONE_MIN_LENGTH=0.5
LONG_TONE_BANDWIDTH_HZ=75

# --- General detection ---
TONE_DETECTION_THRESHOLD=0.3
TONE_FREQUENCY_BAND=300,1500
TONE_TIME_RESOLUTION_MS=15


#################################################################
##                 MODE COMBINATIONS (INFO)                    ##
#################################################################
# 1. MAPPED ONLY:   ENABLE_MAPPED_TALK_GROUPS=true, ENABLE_TWO_TONE_MODE=false
# 2. TWO-TONE ONLY: ENABLE_MAPPED_TALK_GROUPS=false, ENABLE_TWO_TONE_MODE=true
# 3. HYBRID:        Both true → mapped + tone-based extra
# 4. DISABLED:      Both false → transcription only
#################################################################

